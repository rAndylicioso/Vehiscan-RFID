<!DOCTYPE html>
<html>
<head>
  <title>Debug Guard Panel</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="p-8">
  <h1 class="text-2xl font-bold mb-4">Guard Panel Debug</h1>
  
  <div class="space-y-4">
    <div>
      <h2 class="font-bold">1. Test Toast System</h2>
      <button onclick="window.toast.success('Toast works!')" class="px-4 py-2 bg-blue-500 text-white rounded">
        Test Toast
      </button>
    </div>

    <div>
      <h2 class="font-bold">2. Test Fetch Logs</h2>
      <button onclick="testFetch()" class="px-4 py-2 bg-green-500 text-white rounded">
        Fetch Logs
      </button>
      <div id="result" class="mt-2 p-4 bg-gray-100 rounded"></div>
    </div>

    <div>
      <h2 class="font-bold">3. Logs Display Area</h2>
      <div id="logsContainerWrapper" class="border-2 border-blue-500 p-4 min-h-[200px]">
        <div class="text-gray-500">Logs will appear here...</div>
      </div>
    </div>
  </div>

  <script src="../js/logger.js"></script>
  <script src="../js/toast.js"></script>
  <script>
    async function testFetch() {
      try {
        const res = await fetch('../fetch/fetch_logs.php?page=1');
        const html = await res.text();
        
        document.getElementById('result').innerHTML = `
          <div>Status: ${res.status}</div>
          <div>Content Length: ${html.length}</div>
          <div>Contains logs: ${html.includes('data-log-id') ? 'YES' : 'NO'}</div>
        `;
        
        document.getElementById('logsContainerWrapper').innerHTML = html;
        
        window.toast.success('Logs loaded! Check the display area below.');
      } catch (err) {
        document.getElementById('result').innerHTML = `Error: ${err.message}`;
        window.toast.error('Failed to load logs');
      }
    }
  </script>
</body>
</html>
